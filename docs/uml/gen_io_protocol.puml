@startuml
title IO Protocols (auto-gen from clang-uml)
enum "io::protocol::FujiCommandId" as C_0003386160999608540497
enum C_0003386160999608540497 {
Reset
SpecialQuery
GetSsid
}
enum "io::protocol::FujiDeviceId" as C_0000782810335588983435
enum C_0000782810335588983435 {
FujiNet
DiskFirst
DiskLast
PrinterFirst
PrinterLast
Voice
Clock
NetworkFirst
NetworkLast
Midi
Dbc
}
enum "io::protocol::SlipByte" as C_0010627602090167488081
enum C_0010627602090167488081 {
End
Escape
EscEnd
EscEsc
}
class "io::protocol::PacketParam" as C_0003277087640557799971
class C_0003277087640557799971 {
+PacketParam(std::uint32_t v, std::uint8_t s) : void
+PacketParam<T>(T v) : void
__
+size : std::uint8_t
+value : std::uint32_t
}
class "io::protocol::FujiBusPacket" as C_0017232777488057089840
class C_0017232777488057089840 {
+FujiBusPacket() = default : void
+FujiBusPacket<Args...>(FujiDeviceId dev, FujiCommandId cmd, Args &&... args) : void
..
-calcChecksum(const ByteBuffer & buf) const : std::uint8_t
+command() const : FujiCommandId
+data() const : const std::optional<ByteBuffer> &
+dataAsString() const : std::optional<std::string>
-decodeSLIP(const ByteBuffer & input) const : ByteBuffer
+device() const : FujiDeviceId
-encodeSLIP(const ByteBuffer & input) const : ByteBuffer
{static} +fromSerialized(const ByteBuffer & input) : std::unique_ptr<FujiBusPacket>
+param(unsigned int index) const : std::uint32_t
+paramCount() const : unsigned int
-parse(const ByteBuffer & input) : bool
-processArg(const ByteBuffer & buf) : void
-processArg(ByteBuffer && buf) : void
-processArg(const std::string & s) : void
-processArg(std::uint32_t v) : void
-processArg(std::uint16_t v) : void
-processArg(std::uint8_t v) : void
+serialize() const : ByteBuffer
__
-_command : FujiCommandId
-_data : std::optional<ByteBuffer>
-_device : FujiDeviceId
-_params : std::vector<PacketParam>
}
class "io::protocol::FujiBusHeader" as C_0009954510640382192371
class C_0009954510640382192371 {
__
+checksum : std::uint8_t
+command : std::uint8_t
+descr : std::uint8_t
+device : std::uint8_t
+length : std::uint16_t
}
C_0017232777488057089840 o-- C_0000782810335588983435 : -_device
C_0017232777488057089840 o-- C_0003386160999608540497 : -_command
C_0017232777488057089840 o-- C_0003277087640557799971 : -_params

'Generated with clang-uml, version 0.6.2
'LLVM version Ubuntu clang version 18.1.3 (1ubuntu1)
@enduml
