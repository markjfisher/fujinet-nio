<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="771px" preserveAspectRatio="none" style="width:1239px;height:771px;" version="1.1" viewBox="0 0 1239 771" width="1239px" zoomAndPan="magnify"><defs><filter height="300%" id="fpc0mycl27953" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="346" x="450.5" y="16.708">IO Protocols (auto-gen from clang-uml)</text><!--MD5=[31061a5abc77c90cb479eaa4f6f83796]
class C_0015225225004340369839--><rect fill="#FEFECE" filter="url(#fpc0mycl27953)" height="214.4609" id="C_0015225225004340369839" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="696" y="545.9531"/><ellipse cx="711" cy="561.9531" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M715.1094,567.9531 L707.3906,567.9531 L707.3906,555.5625 L715.1094,555.5625 L715.1094,557.7188 L709.8438,557.7188 L709.8438,560.3906 L714.6094,560.3906 L714.6094,562.5469 L709.8438,562.5469 L709.8438,565.7969 L715.1094,565.7969 L715.1094,567.9531 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="158" x="725" y="566.1074">io::protocol::WireDeviceId</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="697" x2="885" y1="577.9531" y2="577.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="702" y="592.1636">FujiNet</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="702" y="604.9683">DiskFirst</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="702" y="617.7729">DiskLast</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="702" y="630.5776">PrinterFirst</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="702" y="643.3823">PrinterLast</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="702" y="656.187">Voice</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="702" y="668.9917">Clock</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="702" y="681.7964">NetworkFirst</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="702" y="694.6011">NetworkLast</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="702" y="707.4058">Midi</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="702" y="720.2104">Dbc</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="702" y="733.0151">NetworkService</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="702" y="745.8198">FileService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="697" x2="885" y1="752.4141" y2="752.4141"/><!--MD5=[00589bb63b8d16bc46b4cc6055ae058f]
class C_0010627602090167488081--><rect fill="#FEFECE" filter="url(#fpc0mycl27953)" height="99.2188" id="C_0010627602090167488081" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="23" y="199.4531"/><ellipse cx="38" cy="215.4531" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M42.1094,221.4531 L34.3906,221.4531 L34.3906,209.0625 L42.1094,209.0625 L42.1094,211.2188 L36.8438,211.2188 L36.8438,213.8906 L41.6094,213.8906 L41.6094,216.0469 L36.8438,216.0469 L36.8438,219.2969 L42.1094,219.2969 L42.1094,221.4531 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="52" y="219.6074">io::protocol::SlipByte</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="182" y1="231.4531" y2="231.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="29" y="245.6636">End</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="29" y="258.4683">Escape</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="29" y="271.2729">EscEnd</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="29" y="284.0776">EscEsc</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="182" y1="290.6719" y2="290.6719"/><!--MD5=[72d2c2714d5b439165c57447022afdec]
class C_0003277087640557799971--><rect fill="#FEFECE" filter="url(#fpc0mycl27953)" height="99.2188" id="C_0003277087640557799971" style="stroke: #A80036; stroke-width: 1.5;" width="307" x="921.5" y="603.4531"/><ellipse cx="989.75" cy="619.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M992.7188,625.0938 Q992.1406,625.3906 991.5,625.5313 Q990.8594,625.6875 990.1563,625.6875 Q987.6563,625.6875 986.3281,624.0469 Q985.0156,622.3906 985.0156,619.2656 Q985.0156,616.1406 986.3281,614.4844 Q987.6563,612.8281 990.1563,612.8281 Q990.8594,612.8281 991.5,612.9844 Q992.1563,613.1406 992.7188,613.4375 L992.7188,616.1563 Q992.0938,615.5781 991.5,615.3125 Q990.9063,615.0313 990.2813,615.0313 Q988.9375,615.0313 988.25,616.1094 Q987.5625,617.1719 987.5625,619.2656 Q987.5625,621.3594 988.25,622.4375 Q988.9375,623.5 990.2813,623.5 Q990.9063,623.5 991.5,623.2344 Q992.0938,622.9531 992.7188,622.375 L992.7188,625.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="162" x="1010.25" y="623.6074">io::protocol::PacketParam</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="922.5" x2="1227.5" y1="635.4531" y2="635.4531"/><ellipse cx="932.5" cy="646.4531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="281" x="941.5" y="649.6636">PacketParam(std::uint32_t v, std::uint8_t s) : void</text><ellipse cx="932.5" cy="659.2578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="941.5" y="662.4683">PacketParam&lt;T&gt;(T v) : void</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="922.5" x2="1227.5" y1="669.0625" y2="669.0625"/><ellipse cx="932.5" cy="680.0625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="941.5" y="683.2729">size : std::uint8_t</text><ellipse cx="932.5" cy="692.8672" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="941.5" y="696.0776">value : std::uint32_t</text><!--MD5=[a296b3227c73c67410f4977d15d780d7]
class C_0017232777488057089840--><rect fill="#FEFECE" filter="url(#fpc0mycl27953)" height="440.1406" id="C_0017232777488057089840" style="stroke: #A80036; stroke-width: 1.5;" width="498" x="684" y="28.9531"/><ellipse cx="845.75" cy="44.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M848.7188,50.5938 Q848.1406,50.8906 847.5,51.0313 Q846.8594,51.1875 846.1563,51.1875 Q843.6563,51.1875 842.3281,49.5469 Q841.0156,47.8906 841.0156,44.7656 Q841.0156,41.6406 842.3281,39.9844 Q843.6563,38.3281 846.1563,38.3281 Q846.8594,38.3281 847.5,38.4844 Q848.1563,38.6406 848.7188,38.9375 L848.7188,41.6563 Q848.0938,41.0781 847.5,40.8125 Q846.9063,40.5313 846.2813,40.5313 Q844.9375,40.5313 844.25,41.6094 Q843.5625,42.6719 843.5625,44.7656 Q843.5625,46.8594 844.25,47.9375 Q844.9375,49 846.2813,49 Q846.9063,49 847.5,48.7344 Q848.0938,48.4531 848.7188,47.875 L848.7188,50.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="166" x="866.25" y="49.1074">io::protocol::FujiBusPacket</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="685" x2="1181" y1="60.9531" y2="60.9531"/><ellipse cx="695" cy="71.9531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="704" y="75.1636">FujiBusPacket() = default : void</text><ellipse cx="695" cy="84.7578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="472" x="704" y="87.9683">FujiBusPacket&lt;Args...&gt;(WireDeviceId dev, std::uint8_t cmd, Args &amp;&amp;... args) : void</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="685" x2="1181" y1="94.5625" y2="94.5625"/><ellipse cx="695" cy="105.5625" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="273" x="704" y="108.7729">addParamU16(std::uint16_t v) : FujiBusPacket &amp;</text><ellipse cx="695" cy="118.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="273" x="704" y="121.5776">addParamU32(std::uint32_t v) : FujiBusPacket &amp;</text><ellipse cx="695" cy="131.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="704" y="134.3823">addParamU8(std::uint8_t v) : FujiBusPacket &amp;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="140.9766"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="331" x="704" y="147.187">calcChecksum(const ByteBuffer &amp; buf) const : std::uint8_t</text><ellipse cx="695" cy="156.7813" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="704" y="159.9917">clearData() : FujiBusPacket &amp;</text><ellipse cx="695" cy="169.5859" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="175" x="704" y="172.7964">command() const : std::uint8_t</text><ellipse cx="695" cy="182.3906" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="704" y="185.6011">data() const : const std::optional&lt;ByteBuffer&gt; &amp;</text><ellipse cx="695" cy="195.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="276" x="704" y="198.4058">dataAsString() const : std::optional&lt;std::string&gt;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="205"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="704" y="211.2104">decodeSLIP(const ByteBuffer &amp; input) const : ByteBuffer</text><ellipse cx="695" cy="220.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="704" y="224.0151">device() const : WireDeviceId</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="230.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="704" y="236.8198">encodeSLIP(const ByteBuffer &amp; input) const : ByteBuffer</text><ellipse cx="695" cy="246.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="425" x="704" y="249.6245">fromSerialized(const ByteBuffer &amp; input) : std::unique_ptr&lt;FujiBusPacket&gt;</text><ellipse cx="695" cy="259.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="267" x="704" y="262.4292">param(unsigned int index) const : std::uint32_t</text><ellipse cx="695" cy="272.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="704" y="275.2339">paramCount() const : unsigned int</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="281.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="704" y="288.0386">parse(const ByteBuffer &amp; input) : bool</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="294.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="227" x="704" y="300.8433">processArg(const std::string &amp; s) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="307.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="214" x="704" y="313.6479">processArg(ByteBuffer &amp;&amp; buf) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="320.2422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="704" y="326.4526">processArg(const ByteBuffer &amp; buf) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="333.0469"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="704" y="339.2573">processArg(std::uint32_t v) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="345.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="704" y="352.062">processArg(std::uint16_t v) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="358.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="182" x="704" y="364.8667">processArg(std::uint8_t v) : void</text><ellipse cx="695" cy="374.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="704" y="377.6714">serialize() const : ByteBuffer</text><ellipse cx="695" cy="387.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="245" x="704" y="390.4761">setData(ByteBuffer data) : FujiBusPacket &amp;</text><ellipse cx="695" cy="400.0703" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="358" x="704" y="403.2808">tryParamU8(unsigned int index, std::uint8_t &amp; out) const : bool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="685" x2="1181" y1="409.875" y2="409.875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="417.875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="704" y="424.0854">_command : std::uint8_t</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="430.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="704" y="436.8901">_data : std::optional&lt;ByteBuffer&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="443.4844"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="704" y="449.6948">_device : WireDeviceId</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="692" y="456.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="704" y="462.4995">_params : std::vector&lt;PacketParam&gt;</text><!--MD5=[c8c5170bff1e9023eb4a587b4387aedc]
class C_0009954510640382192371--><rect fill="#FEFECE" filter="url(#fpc0mycl27953)" height="112.0234" id="C_0009954510640382192371" style="stroke: #A80036; stroke-width: 1.5;" width="201" x="218.5" y="192.9531"/><ellipse cx="233.5" cy="208.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236.4688,214.5938 Q235.8906,214.8906 235.25,215.0313 Q234.6094,215.1875 233.9063,215.1875 Q231.4063,215.1875 230.0781,213.5469 Q228.7656,211.8906 228.7656,208.7656 Q228.7656,205.6406 230.0781,203.9844 Q231.4063,202.3281 233.9063,202.3281 Q234.6094,202.3281 235.25,202.4844 Q235.9063,202.6406 236.4688,202.9375 L236.4688,205.6563 Q235.8438,205.0781 235.25,204.8125 Q234.6563,204.5313 234.0313,204.5313 Q232.6875,204.5313 232,205.6094 Q231.3125,206.6719 231.3125,208.7656 Q231.3125,210.8594 232,211.9375 Q232.6875,213 234.0313,213 Q234.6563,213 235.25,212.7344 Q235.8438,212.4531 236.4688,211.875 L236.4688,214.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="169" x="247.5" y="213.1074">io::protocol::FujiBusHeader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="219.5" x2="418.5" y1="224.9531" y2="224.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="219.5" x2="418.5" y1="232.9531" y2="232.9531"/><ellipse cx="229.5" cy="243.9531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="238.5" y="247.1636">checksum : std::uint8_t</text><ellipse cx="229.5" cy="256.7578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="238.5" y="259.9683">command : std::uint8_t</text><ellipse cx="229.5" cy="269.5625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="238.5" y="272.7729">descr : std::uint8_t</text><ellipse cx="229.5" cy="282.3672" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="238.5" y="285.5776">device : std::uint8_t</text><ellipse cx="229.5" cy="295.1719" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="238.5" y="298.3823">length : std::uint16_t</text><!--MD5=[300a4d773173d5b8caf27f723ff28295]
class C_0003895064208135060769--><rect fill="#FEFECE" filter="url(#fpc0mycl27953)" height="99.2188" id="C_0003895064208135060769" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="455" y="199.4531"/><ellipse cx="470" cy="215.4531" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M474.1094,221.4531 L466.3906,221.4531 L466.3906,209.0625 L474.1094,209.0625 L474.1094,211.2188 L468.8438,211.2188 L468.8438,213.8906 L473.6094,213.8906 L473.6094,216.0469 L468.8438,216.0469 L468.8438,219.2969 L474.1094,219.2969 L474.1094,221.4531 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="162" x="484" y="219.6074">io::protocol::FileCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="456" x2="648" y1="231.4531" y2="231.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="23" x="461" y="245.6636">Stat</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="461" y="258.4683">ListDirectory</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="461" y="271.2729">ReadFile</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="461" y="284.0776">WriteFile</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="456" x2="648" y1="290.6719" y2="290.6719"/><!--MD5=[addcdd6b4528a1d851ee81289eb82bbc]
class C_0004628219160953719395--><rect fill="#FEFECE" filter="url(#fpc0mycl27953)" height="73.6094" id="C_0004628219160953719395" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="6" y="615.9531"/><ellipse cx="21" cy="631.9531" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M25.1094,637.9531 L17.3906,637.9531 L17.3906,625.5625 L25.1094,625.5625 L25.1094,627.7188 L19.8438,627.7188 L19.8438,630.3906 L24.6094,630.3906 L24.6094,632.5469 L19.8438,632.5469 L19.8438,635.7969 L25.1094,635.7969 L25.1094,637.9531 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="162" x="35" y="636.1074">io::protocol::FujiCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="199" y1="647.9531" y2="647.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="12" y="662.1636">Reset</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="12" y="674.9683">GetSsid</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="199" y1="681.5625" y2="681.5625"/><!--MD5=[be25510d78858c14ac0642f996831e24]
class C_0007700754280455587098--><rect fill="#FEFECE" filter="url(#fpc0mycl27953)" height="112.0234" id="C_0007700754280455587098" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="235" y="596.9531"/><ellipse cx="250" cy="612.9531" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M254.1094,618.9531 L246.3906,618.9531 L246.3906,606.5625 L254.1094,606.5625 L254.1094,608.7188 L248.8438,608.7188 L248.8438,611.3906 L253.6094,611.3906 L253.6094,613.5469 L248.8438,613.5469 L248.8438,616.7969 L254.1094,616.7969 L254.1094,618.9531 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="264" y="617.1074">io::protocol::NetworkCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="236" x2="458" y1="628.9531" y2="628.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="241" y="643.1636">Open</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="241" y="655.9683">Read</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="241" y="668.7729">Write</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="241" y="681.5776">Close</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="241" y="694.3823">Info</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="236" x2="458" y1="700.9766" y2="700.9766"/><!--MD5=[7015635e4296b2847478ac1955dfb845]
reverse link C_0017232777488057089840 to C_0015225225004340369839--><path d="M851.16,481.6331 C843.28,503.9631 835.57,525.7731 828.45,545.9231 " fill="none" id="C_0017232777488057089840&lt;-C_0015225225004340369839" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="855.56,469.1831,849.7858,473.5028,851.5524,480.4941,857.3265,476.1745,855.56,469.1831" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="844" y="505.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="854" y="512.02">_device</text><!--MD5=[f47f967b175eade81981f12930178d3b]
reverse link C_0017232777488057089840 to C_0003277087640557799971--><path d="M1014.82,481.5831 C1031.09,527.6531 1046.59,571.5231 1057.78,603.2031 " fill="none" id="C_0017232777488057089840&lt;-C_0003277087640557799971" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1010.44,469.1831,1008.6735,476.1745,1014.4476,480.4941,1016.2142,473.5028,1010.44,469.1831" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1029" y="505.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="1039" y="512.02">_params</text><!--MD5=[390c2004c9aac76758688f85ede2245c]
link C_0010627602090167488081 to C_0009954510640382192371--><!--MD5=[bf5045dfbccc0d7cb387e122f335acb5]
link C_0009954510640382192371 to C_0003895064208135060769--><!--MD5=[861660a35bb5d1565a2772a2b55d8e09]
link C_0010627602090167488081 to C_0004628219160953719395--><!--MD5=[66bb56c9c22cf61333671dc577f7c88c]
link C_0004628219160953719395 to C_0007700754280455587098--><!--MD5=[c882c3aae966647038ca1b4edf446127]
@startuml
title IO Protocols (auto-gen from clang-uml)
enum "io::protocol::WireDeviceId" as C_0015225225004340369839
enum C_0015225225004340369839 {
FujiNet
DiskFirst
DiskLast
PrinterFirst
PrinterLast
Voice
Clock
NetworkFirst
NetworkLast
Midi
Dbc
NetworkService
FileService
}
enum "io::protocol::SlipByte" as C_0010627602090167488081
enum C_0010627602090167488081 {
End
Escape
EscEnd
EscEsc
}
class "io::protocol::PacketParam" as C_0003277087640557799971
class C_0003277087640557799971 {
+PacketParam(std::uint32_t v, std::uint8_t s) : void
+PacketParam<T>(T v) : void
__
+size : std::uint8_t
+value : std::uint32_t
}
class "io::protocol::FujiBusPacket" as C_0017232777488057089840
class C_0017232777488057089840 {
+FujiBusPacket() = default : void
+FujiBusPacket<Args...>(WireDeviceId dev, std::uint8_t cmd, Args &&... args) : void
..
+addParamU16(std::uint16_t v) : FujiBusPacket &
+addParamU32(std::uint32_t v) : FujiBusPacket &
+addParamU8(std::uint8_t v) : FujiBusPacket &
-calcChecksum(const ByteBuffer & buf) const : std::uint8_t
+clearData() : FujiBusPacket &
+command() const : std::uint8_t
+data() const : const std::optional<ByteBuffer> &
+dataAsString() const : std::optional<std::string>
-decodeSLIP(const ByteBuffer & input) const : ByteBuffer
+device() const : WireDeviceId
-encodeSLIP(const ByteBuffer & input) const : ByteBuffer
{static} +fromSerialized(const ByteBuffer & input) : std::unique_ptr<FujiBusPacket>
+param(unsigned int index) const : std::uint32_t
+paramCount() const : unsigned int
-parse(const ByteBuffer & input) : bool
-processArg(const std::string & s) : void
-processArg(ByteBuffer && buf) : void
-processArg(const ByteBuffer & buf) : void
-processArg(std::uint32_t v) : void
-processArg(std::uint16_t v) : void
-processArg(std::uint8_t v) : void
+serialize() const : ByteBuffer
+setData(ByteBuffer data) : FujiBusPacket &
+tryParamU8(unsigned int index, std::uint8_t & out) const : bool
__
-_command : std::uint8_t
-_data : std::optional<ByteBuffer>
-_device : WireDeviceId
-_params : std::vector<PacketParam>
}
class "io::protocol::FujiBusHeader" as C_0009954510640382192371
class C_0009954510640382192371 {
__
+checksum : std::uint8_t
+command : std::uint8_t
+descr : std::uint8_t
+device : std::uint8_t
+length : std::uint16_t
}
enum "io::protocol::FileCommand" as C_0003895064208135060769
enum C_0003895064208135060769 {
Stat
ListDirectory
ReadFile
WriteFile
}
enum "io::protocol::FujiCommand" as C_0004628219160953719395
enum C_0004628219160953719395 {
Reset
GetSsid
}
enum "io::protocol::NetworkCommand" as C_0007700754280455587098
enum C_0007700754280455587098 {
Open
Read
Write
Close
Info
}
C_0017232777488057089840 o- - C_0015225225004340369839 : -_device
C_0017232777488057089840 o- - C_0003277087640557799971 : -_params

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.17+10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>