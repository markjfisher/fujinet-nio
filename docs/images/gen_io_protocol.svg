<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="758px" preserveAspectRatio="none" style="width:1034px;height:758px;" version="1.1" viewBox="0 0 1034 758" width="1034px" zoomAndPan="magnify"><defs><filter height="300%" id="fxonrrxeti3cl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="346" x="347.5" y="16.708">IO Protocols (auto-gen from clang-uml)</text><!--MD5=[31061a5abc77c90cb479eaa4f6f83796]
class C_0015225225004340369839--><rect fill="#FEFECE" filter="url(#fxonrrxeti3cl)" height="201.6563" id="C_0015225225004340369839" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="464" y="545.9531"/><ellipse cx="479" cy="561.9531" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M483.1094,567.9531 L475.3906,567.9531 L475.3906,555.5625 L483.1094,555.5625 L483.1094,557.7188 L477.8438,557.7188 L477.8438,560.3906 L482.6094,560.3906 L482.6094,562.5469 L477.8438,562.5469 L477.8438,565.7969 L483.1094,565.7969 L483.1094,567.9531 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="158" x="493" y="566.1074">io::protocol::WireDeviceId</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="465" x2="653" y1="577.9531" y2="577.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="470" y="592.1636">FujiNet</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="470" y="604.9683">DiskFirst</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="470" y="617.7729">DiskLast</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="470" y="630.5776">PrinterFirst</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="470" y="643.3823">PrinterLast</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="470" y="656.187">Voice</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="470" y="668.9917">Clock</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="470" y="681.7964">NetworkFirst</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="470" y="694.6011">NetworkLast</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="470" y="707.4058">Midi</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="470" y="720.2104">Dbc</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="470" y="733.0151">FileService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="465" x2="653" y1="739.6094" y2="739.6094"/><!--MD5=[00589bb63b8d16bc46b4cc6055ae058f]
class C_0010627602090167488081--><rect fill="#FEFECE" filter="url(#fxonrrxeti3cl)" height="99.2188" id="C_0010627602090167488081" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="23" y="199.4531"/><ellipse cx="38" cy="215.4531" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M42.1094,221.4531 L34.3906,221.4531 L34.3906,209.0625 L42.1094,209.0625 L42.1094,211.2188 L36.8438,211.2188 L36.8438,213.8906 L41.6094,213.8906 L41.6094,216.0469 L36.8438,216.0469 L36.8438,219.2969 L42.1094,219.2969 L42.1094,221.4531 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="52" y="219.6074">io::protocol::SlipByte</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="182" y1="231.4531" y2="231.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="29" y="245.6636">End</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="29" y="258.4683">Escape</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="29" y="271.2729">EscEnd</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="29" y="284.0776">EscEsc</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="182" y1="290.6719" y2="290.6719"/><!--MD5=[72d2c2714d5b439165c57447022afdec]
class C_0003277087640557799971--><rect fill="#FEFECE" filter="url(#fxonrrxeti3cl)" height="99.2188" id="C_0003277087640557799971" style="stroke: #A80036; stroke-width: 1.5;" width="307" x="689.5" y="597.4531"/><ellipse cx="757.75" cy="613.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M760.7188,619.0938 Q760.1406,619.3906 759.5,619.5313 Q758.8594,619.6875 758.1563,619.6875 Q755.6563,619.6875 754.3281,618.0469 Q753.0156,616.3906 753.0156,613.2656 Q753.0156,610.1406 754.3281,608.4844 Q755.6563,606.8281 758.1563,606.8281 Q758.8594,606.8281 759.5,606.9844 Q760.1563,607.1406 760.7188,607.4375 L760.7188,610.1563 Q760.0938,609.5781 759.5,609.3125 Q758.9063,609.0313 758.2813,609.0313 Q756.9375,609.0313 756.25,610.1094 Q755.5625,611.1719 755.5625,613.2656 Q755.5625,615.3594 756.25,616.4375 Q756.9375,617.5 758.2813,617.5 Q758.9063,617.5 759.5,617.2344 Q760.0938,616.9531 760.7188,616.375 L760.7188,619.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="162" x="778.25" y="617.6074">io::protocol::PacketParam</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="690.5" x2="995.5" y1="629.4531" y2="629.4531"/><ellipse cx="700.5" cy="640.4531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="281" x="709.5" y="643.6636">PacketParam(std::uint32_t v, std::uint8_t s) : void</text><ellipse cx="700.5" cy="653.2578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="709.5" y="656.4683">PacketParam&lt;T&gt;(T v) : void</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="690.5" x2="995.5" y1="663.0625" y2="663.0625"/><ellipse cx="700.5" cy="674.0625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="709.5" y="677.2729">size : std::uint8_t</text><ellipse cx="700.5" cy="686.8672" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="709.5" y="690.0776">value : std::uint32_t</text><!--MD5=[a296b3227c73c67410f4977d15d780d7]
class C_0017232777488057089840--><rect fill="#FEFECE" filter="url(#fxonrrxeti3cl)" height="440.1406" id="C_0017232777488057089840" style="stroke: #A80036; stroke-width: 1.5;" width="498" x="525" y="28.9531"/><ellipse cx="686.75" cy="44.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M689.7188,50.5938 Q689.1406,50.8906 688.5,51.0313 Q687.8594,51.1875 687.1563,51.1875 Q684.6563,51.1875 683.3281,49.5469 Q682.0156,47.8906 682.0156,44.7656 Q682.0156,41.6406 683.3281,39.9844 Q684.6563,38.3281 687.1563,38.3281 Q687.8594,38.3281 688.5,38.4844 Q689.1563,38.6406 689.7188,38.9375 L689.7188,41.6563 Q689.0938,41.0781 688.5,40.8125 Q687.9063,40.5313 687.2813,40.5313 Q685.9375,40.5313 685.25,41.6094 Q684.5625,42.6719 684.5625,44.7656 Q684.5625,46.8594 685.25,47.9375 Q685.9375,49 687.2813,49 Q687.9063,49 688.5,48.7344 Q689.0938,48.4531 689.7188,47.875 L689.7188,50.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="166" x="707.25" y="49.1074">io::protocol::FujiBusPacket</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="526" x2="1022" y1="60.9531" y2="60.9531"/><ellipse cx="536" cy="71.9531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="545" y="75.1636">FujiBusPacket() = default : void</text><ellipse cx="536" cy="84.7578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="472" x="545" y="87.9683">FujiBusPacket&lt;Args...&gt;(WireDeviceId dev, std::uint8_t cmd, Args &amp;&amp;... args) : void</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="526" x2="1022" y1="94.5625" y2="94.5625"/><ellipse cx="536" cy="105.5625" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="273" x="545" y="108.7729">addParamU16(std::uint16_t v) : FujiBusPacket &amp;</text><ellipse cx="536" cy="118.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="273" x="545" y="121.5776">addParamU32(std::uint32_t v) : FujiBusPacket &amp;</text><ellipse cx="536" cy="131.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="545" y="134.3823">addParamU8(std::uint8_t v) : FujiBusPacket &amp;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="140.9766"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="331" x="545" y="147.187">calcChecksum(const ByteBuffer &amp; buf) const : std::uint8_t</text><ellipse cx="536" cy="156.7813" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="545" y="159.9917">clearData() : FujiBusPacket &amp;</text><ellipse cx="536" cy="169.5859" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="175" x="545" y="172.7964">command() const : std::uint8_t</text><ellipse cx="536" cy="182.3906" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="545" y="185.6011">data() const : const std::optional&lt;ByteBuffer&gt; &amp;</text><ellipse cx="536" cy="195.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="276" x="545" y="198.4058">dataAsString() const : std::optional&lt;std::string&gt;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="205"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="545" y="211.2104">decodeSLIP(const ByteBuffer &amp; input) const : ByteBuffer</text><ellipse cx="536" cy="220.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="545" y="224.0151">device() const : WireDeviceId</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="230.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="545" y="236.8198">encodeSLIP(const ByteBuffer &amp; input) const : ByteBuffer</text><ellipse cx="536" cy="246.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="425" x="545" y="249.6245">fromSerialized(const ByteBuffer &amp; input) : std::unique_ptr&lt;FujiBusPacket&gt;</text><ellipse cx="536" cy="259.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="267" x="545" y="262.4292">param(unsigned int index) const : std::uint32_t</text><ellipse cx="536" cy="272.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="545" y="275.2339">paramCount() const : unsigned int</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="281.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="545" y="288.0386">parse(const ByteBuffer &amp; input) : bool</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="294.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="227" x="545" y="300.8433">processArg(const std::string &amp; s) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="307.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="214" x="545" y="313.6479">processArg(ByteBuffer &amp;&amp; buf) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="320.2422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="545" y="326.4526">processArg(const ByteBuffer &amp; buf) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="333.0469"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="545" y="339.2573">processArg(std::uint32_t v) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="345.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="545" y="352.062">processArg(std::uint16_t v) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="358.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="182" x="545" y="364.8667">processArg(std::uint8_t v) : void</text><ellipse cx="536" cy="374.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="545" y="377.6714">serialize() const : ByteBuffer</text><ellipse cx="536" cy="387.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="245" x="545" y="390.4761">setData(ByteBuffer data) : FujiBusPacket &amp;</text><ellipse cx="536" cy="400.0703" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="358" x="545" y="403.2808">tryParamU8(unsigned int index, std::uint8_t &amp; out) const : bool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="526" x2="1022" y1="409.875" y2="409.875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="417.875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="545" y="424.0854">_command : std::uint8_t</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="430.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="545" y="436.8901">_data : std::optional&lt;ByteBuffer&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="443.4844"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="545" y="449.6948">_device : WireDeviceId</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="533" y="456.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="545" y="462.4995">_params : std::vector&lt;PacketParam&gt;</text><!--MD5=[c8c5170bff1e9023eb4a587b4387aedc]
class C_0009954510640382192371--><rect fill="#FEFECE" filter="url(#fxonrrxeti3cl)" height="112.0234" id="C_0009954510640382192371" style="stroke: #A80036; stroke-width: 1.5;" width="201" x="218.5" y="192.9531"/><ellipse cx="233.5" cy="208.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236.4688,214.5938 Q235.8906,214.8906 235.25,215.0313 Q234.6094,215.1875 233.9063,215.1875 Q231.4063,215.1875 230.0781,213.5469 Q228.7656,211.8906 228.7656,208.7656 Q228.7656,205.6406 230.0781,203.9844 Q231.4063,202.3281 233.9063,202.3281 Q234.6094,202.3281 235.25,202.4844 Q235.9063,202.6406 236.4688,202.9375 L236.4688,205.6563 Q235.8438,205.0781 235.25,204.8125 Q234.6563,204.5313 234.0313,204.5313 Q232.6875,204.5313 232,205.6094 Q231.3125,206.6719 231.3125,208.7656 Q231.3125,210.8594 232,211.9375 Q232.6875,213 234.0313,213 Q234.6563,213 235.25,212.7344 Q235.8438,212.4531 236.4688,211.875 L236.4688,214.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="169" x="247.5" y="213.1074">io::protocol::FujiBusHeader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="219.5" x2="418.5" y1="224.9531" y2="224.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="219.5" x2="418.5" y1="232.9531" y2="232.9531"/><ellipse cx="229.5" cy="243.9531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="238.5" y="247.1636">checksum : std::uint8_t</text><ellipse cx="229.5" cy="256.7578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="238.5" y="259.9683">command : std::uint8_t</text><ellipse cx="229.5" cy="269.5625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="238.5" y="272.7729">descr : std::uint8_t</text><ellipse cx="229.5" cy="282.3672" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="238.5" y="285.5776">device : std::uint8_t</text><ellipse cx="229.5" cy="295.1719" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="238.5" y="298.3823">length : std::uint16_t</text><!--MD5=[300a4d773173d5b8caf27f723ff28295]
class C_0003895064208135060769--><rect fill="#FEFECE" filter="url(#fxonrrxeti3cl)" height="99.2188" id="C_0003895064208135060769" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="6" y="597.4531"/><ellipse cx="21" cy="613.4531" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M25.1094,619.4531 L17.3906,619.4531 L17.3906,607.0625 L25.1094,607.0625 L25.1094,609.2188 L19.8438,609.2188 L19.8438,611.8906 L24.6094,611.8906 L24.6094,614.0469 L19.8438,614.0469 L19.8438,617.2969 L25.1094,617.2969 L25.1094,619.4531 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="162" x="35" y="617.6074">io::protocol::FileCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="199" y1="629.4531" y2="629.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="23" x="12" y="643.6636">Stat</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="12" y="656.4683">ListDirectory</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="12" y="669.2729">ReadFile</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="12" y="682.0776">WriteFile</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="199" y1="688.6719" y2="688.6719"/><!--MD5=[addcdd6b4528a1d851ee81289eb82bbc]
class C_0004628219160953719395--><rect fill="#FEFECE" filter="url(#fxonrrxeti3cl)" height="73.6094" id="C_0004628219160953719395" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="235" y="609.9531"/><ellipse cx="250" cy="625.9531" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M254.1094,631.9531 L246.3906,631.9531 L246.3906,619.5625 L254.1094,619.5625 L254.1094,621.7188 L248.8438,621.7188 L248.8438,624.3906 L253.6094,624.3906 L253.6094,626.5469 L248.8438,626.5469 L248.8438,629.7969 L254.1094,629.7969 L254.1094,631.9531 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="162" x="264" y="630.1074">io::protocol::FujiCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="236" x2="428" y1="641.9531" y2="641.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="241" y="656.1636">Reset</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="241" y="668.9683">GetSsid</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="236" x2="428" y1="675.5625" y2="675.5625"/><!--MD5=[7015635e4296b2847478ac1955dfb845]
reverse link C_0017232777488057089840 to C_0015225225004340369839--><path d="M648.74,480.6731 C636.38,503.4331 624.34,525.6031 613.31,545.9231 " fill="none" id="C_0017232777488057089840&lt;-C_0015225225004340369839" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="655.02,469.0931,648.643,472.4596,649.2978,479.6409,655.6748,476.2744,655.02,469.0931" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="638" y="505.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="648" y="512.02">_device</text><!--MD5=[f47f967b175eade81981f12930178d3b]
reverse link C_0017232777488057089840 to C_0003277087640557799971--><path d="M814.44,482.0431 C822.03,525.5831 829.22,566.8631 834.49,597.1031 " fill="none" id="C_0017232777488057089840&lt;-C_0003277087640557799971" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="812.18,469.0931,809.2743,475.6929,814.2489,480.9134,817.1545,474.3137,812.18,469.0931" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="822" y="505.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="832" y="512.02">_params</text><!--MD5=[390c2004c9aac76758688f85ede2245c]
link C_0010627602090167488081 to C_0009954510640382192371--><!--MD5=[6a27a53ee14f1ef032090f5c4dab55db]
link C_0010627602090167488081 to C_0003895064208135060769--><!--MD5=[249302f85a1dc5effcb34fa965bba171]
link C_0003895064208135060769 to C_0004628219160953719395--><!--MD5=[11cb2fe8ff830766262179b9c1e9c9fe]
@startuml
title IO Protocols (auto-gen from clang-uml)
enum "io::protocol::WireDeviceId" as C_0015225225004340369839
enum C_0015225225004340369839 {
FujiNet
DiskFirst
DiskLast
PrinterFirst
PrinterLast
Voice
Clock
NetworkFirst
NetworkLast
Midi
Dbc
FileService
}
enum "io::protocol::SlipByte" as C_0010627602090167488081
enum C_0010627602090167488081 {
End
Escape
EscEnd
EscEsc
}
class "io::protocol::PacketParam" as C_0003277087640557799971
class C_0003277087640557799971 {
+PacketParam(std::uint32_t v, std::uint8_t s) : void
+PacketParam<T>(T v) : void
__
+size : std::uint8_t
+value : std::uint32_t
}
class "io::protocol::FujiBusPacket" as C_0017232777488057089840
class C_0017232777488057089840 {
+FujiBusPacket() = default : void
+FujiBusPacket<Args...>(WireDeviceId dev, std::uint8_t cmd, Args &&... args) : void
..
+addParamU16(std::uint16_t v) : FujiBusPacket &
+addParamU32(std::uint32_t v) : FujiBusPacket &
+addParamU8(std::uint8_t v) : FujiBusPacket &
-calcChecksum(const ByteBuffer & buf) const : std::uint8_t
+clearData() : FujiBusPacket &
+command() const : std::uint8_t
+data() const : const std::optional<ByteBuffer> &
+dataAsString() const : std::optional<std::string>
-decodeSLIP(const ByteBuffer & input) const : ByteBuffer
+device() const : WireDeviceId
-encodeSLIP(const ByteBuffer & input) const : ByteBuffer
{static} +fromSerialized(const ByteBuffer & input) : std::unique_ptr<FujiBusPacket>
+param(unsigned int index) const : std::uint32_t
+paramCount() const : unsigned int
-parse(const ByteBuffer & input) : bool
-processArg(const std::string & s) : void
-processArg(ByteBuffer && buf) : void
-processArg(const ByteBuffer & buf) : void
-processArg(std::uint32_t v) : void
-processArg(std::uint16_t v) : void
-processArg(std::uint8_t v) : void
+serialize() const : ByteBuffer
+setData(ByteBuffer data) : FujiBusPacket &
+tryParamU8(unsigned int index, std::uint8_t & out) const : bool
__
-_command : std::uint8_t
-_data : std::optional<ByteBuffer>
-_device : WireDeviceId
-_params : std::vector<PacketParam>
}
class "io::protocol::FujiBusHeader" as C_0009954510640382192371
class C_0009954510640382192371 {
__
+checksum : std::uint8_t
+command : std::uint8_t
+descr : std::uint8_t
+device : std::uint8_t
+length : std::uint16_t
}
enum "io::protocol::FileCommand" as C_0003895064208135060769
enum C_0003895064208135060769 {
Stat
ListDirectory
ReadFile
WriteFile
}
enum "io::protocol::FujiCommand" as C_0004628219160953719395
enum C_0004628219160953719395 {
Reset
GetSsid
}
C_0017232777488057089840 o- - C_0015225225004340369839 : -_device
C_0017232777488057089840 o- - C_0003277087640557799971 : -_params

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.17+10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>