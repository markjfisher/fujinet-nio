; DO NOT EDIT THE FILE - IT WILL BE OVERWRITTEN BY REPOSITORY UPDATES
;
; PUT YOUR LOCAL CHANGES IN platformio.local.ini

;FujiNet PlatformIO Common Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[fujinet]
esp32_platform_version = 6.10.0
esp32_platform_packages = 
esp32s3_platform_version = 6.10.0
esp32s3_platform_packages =

[platformio]
description = FujiNet retro computer to ESP32 WiFi Firmware
default_envs = ${fujinet.build_board}
src_dir = src

[env]
framework = espidf
; extra_scripts =
;     pre:build_packages.py
;     pre:build_version.py
;     pre:build_webui.py
;    post:build_firmwarezip.py ; Optional, build firmware ZIP file for flash tool
lib_ldf_mode = deep+
;board_build.filesystem = littlefs

; Make the default the s3 ACM device
upload_port = /dev/ttyACM0
monitor_port = /dev/ttyACM0

upload_speed = 460800
monitor_speed = 115200

monitor_filters = esp32_exception_decoder, time
check_skip_packages = yes

; The ESP32 toolchain (GCC 8.4 in ESP-IDF 5.4.0) doesn't support -std=gnu++20,
; so we downgrade to C++17 just for this environment.
build_unflags = -std=gnu++20
build_flags =
    -std=gnu++17
    -D CMAKE_EXPORT_COMPILE_COMMANDS=ON
    -DFN_PLATFORM_ESP32
